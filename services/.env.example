# aichat 服务配置

# 模型类型：openai 或 ollama 或 modelscope
AICHAT_MODEL_TYPE=

# OpenAI 配置（当AICHAT_MODEL_TYPE=openai时使用）
AICHAT_OPENAI_API_KEY=
AICHAT_OPENAI_BASE_URL=
AICHAT_OPENAI_MODEL_NAME=

# Ollama 配置（当AICHAT_MODEL_TYPE=ollama时使用）
AICHAT_OLLAMA_BASE_URL=http://localhost:11434
AICHAT_OLLAMA_MODEL_NAME=
AICHAT_OLLAMA_EMBED_MODEL=

# MCP 工具路径
AICHAT_MCP_PATH=
AICHAT_MCP_HTTP_URLS=
AICHAT_MCP_SSE_URLS=

# Redis 配置（RAG服务共享）
AICHAT_REDIS_ADDR=localhost:6379
AICHAT_REDIS_PASSWORD=
AICHAT_REDIS_DB=

# 魔塔社区 API 配置（当AICHAT_MODEL_TYPE=modelscope时使用）
AICHAT_MODELSCOPE_API_KEY=
AICHAT_MODELSCOPE_MODEL_NAME=
AICHAT_MODELSCOPE_VISUAL_MODEL_NAME=
AICHAT_MODELSCOPE_BASE_URL=https://api-inference.modelscope.cn/v1

# 支持工具调用的模型列表
AICHAT_SUPPORTED_TOOL_CALL_MODELS=Qwen/Qwen2.5-7B-Instruct,gpt-3.5-turbo,gpt-3.5-turbo-0125,gpt-3.5-turbo-1106,gpt-4,gpt-4-0613,gpt-4-0125-preview,gpt-4-turbo,gpt-4-turbo-2024-04-09,gpt-4o,gpt-4o-mini,claude-2,claude-2.1,claude-3-opus,claude-3-sonnet,claude-3-haiku,claude-3-5-sonnet,llama3.1,llama3.1:8b,llama3.1:8b-instruct,llama3.1:70b,llama3.1:70b-instruct,llama3.1:405b,llama3.1:405b-instruct,llama3.2,llama3.2:1b,llama3.2:3b,llama3.2:1b-instruct,llama3.2:3b-instruct,mistral:7b-instruct-v0.2,mistral:7b-instruct-v0.3,mistral-small:22b-instruct-v0.1,mistral-small:22b-instruct-v0.2,mistral-small3.1,mistral-small3.1:22b,mistral-small3.1:22b-instruct,mistral-nemo,mistral-nemo:12b-instruct,deepseek-chat,deepseek-coder,deepseek-v2-chat,deepseek-v2-coder,gemini-pro,gemini-pro-1.5,gemini-1.5-flash,gemini-1.5-pro,qwen2:7b-instruct,qwen2:14b-instruct,qwen2:32b-instruct,qwen2:72b-instruct,qwen2.5:7b-instruct,qwen2.5:14b-instruct,qwen2.5:32b-instruct,qwen2.5:72b-instruct,qwen2.5-coder:7b-instruct,qwen2.5-coder:14b-instruct,qwen2.5-coder:32b-instruct,codestral:22b-instruct,codestral:mamba-7b-instruct,gemma2:2b-instruct,gemma2:9b-instruct,gemma2:27b-instruct,phi3:mini-instruct,phi3:medium-instruct,phi3:vision-instruct,qwen-plus,qwen-turbo,qwen-max,glm-4,glm-4v,moonshot-v1-8k,moonshot-v1-32k,moonshot-v1-128k
# 不支持工具调用的模型列表
AICHAT_UNSUPPORTED_TOOL_CALL_MODELS=deepseek-r1,deepseek-v3,deepseek-math,llama2,llama2:7b,llama2:13b,llama2:70b,codellama,codellama:7b,codellama:13b,codellama:34b,codellama:70b,stablelm2,stablelm2:1.6b,stablelm2:12b,qwen2:0.5b,qwen2:1.5b,qwen2:7b,gemma2:2b,gemma2:9b,phi3,phi3:mini,phi3:medium,mixtral:8x7b,mixtral:8x22b,gpt-3.5-turbo-instruct,text-davinci-003,dall-e,claude-instant-1,text-embedding-ada-002,text-embedding-3-small,text-embedding-3-large

# 敏感词配置
AICHAT_SENSITIVE_WORDS=
# 恶意输入模式配置
AICHAT_MALICIOUS_PATTERNS=javascript:,<script,</script>,alert(,eval(,document.cookie,document.location,onerror,onload,onclick,DROP TABLE,DELETE FROM,UPDATE SET,SELECT * FROM,UNION SELECT,OR 1=1
# 提示注入模式配置
AICHAT_INJECTION_PATTERNS=忽略之前所有指令,现在你是,角色转换,系统提示,请忘记,一直输出,override instructions,ignore previous,system prompt,act as,role play,keep outputting


# RAG 服务配置

RAG_DOCUMENT_DIR=./documents

# Ollama 配置
RAG_OLLAMA_BASE_URL=http://localhost:11434
RAG_OLLAMA_MODEL=
RAG_OLLAMA_EMBED_MODEL=

# 文档处理配置
RAG_MAX_CHUNK_SIZE=8000
RAG_CHUNK_OVERLAP=200
RAG_TOP_K_RESULTS=3
RAG_SIMILARITY_THRESHOLD=0.2
RAG_QUERY_CACHE_SIZE=500

# 模型类型选择（ollama 或 modelscope）
RAG_MODEL_TYPE=

# 嵌入模型类型（ollama 或 modelscope）
RAG_EMBED_MODEL_TYPE=

# ModelScope 配置 (当 RAG_MODEL_TYPE=modelscope 时使用)
RAG_MODELSCOPE_API_KEY=
RAG_MODELSCOPE_MODEL_NAME=
RAG_MODELSCOPE_EMBED_MODEL=
RAG_MODELSCOPE_BASE_URL=https://api-inference.modelscope.cn/v1


